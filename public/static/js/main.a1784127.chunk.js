(this["webpackJsonptours-app-client"]=this["webpackJsonptours-app-client"]||[]).push([[0],{55:function(t,e,n){},74:function(t,e,n){},82:function(t,e,n){},83:function(t,e,n){},84:function(t,e,n){},85:function(t,e,n){},86:function(t,e,n){},87:function(t,e,n){},88:function(t,e,n){},89:function(t,e,n){},90:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),s=(n(36),n(55),n(23)),i=n(50),l=n(9),u=n(10),d=n(12),j=n(11),h=n(6),p=n(14),b=n.n(p),m="https://hack-tours.herokuapp.com",O=n(92),x=n(94),f=n(8),g=(n(74),n(1));var v=function(t){return Object(g.jsxs)(O.a,{bg:"dark",expand:"lg",children:[Object(g.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(g.jsx)(O.a.Collapse,{id:"basic-navbar-nav",children:Object(g.jsx)(x.a,{className:"mr-auto",children:Object(g.jsx)("div",{className:"nav",children:t.user?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/",children:"Home"}),Object(g.jsxs)("div",{className:"navbtn",children:[Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/addform",children:"Create Tour"}),Object(g.jsx)("button",{style:{marginLeft:"10px"},onClick:t.onLogout,children:"Logout"})]})]}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/",children:"Home"}),Object(g.jsxs)("div",{className:"signbtn",children:[Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/signin",children:"SignIn"}),Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/signup",children:"SignUp"})]})]})})})})]})};n(82);var y=function(t){return Object(g.jsxs)("form",{className:"signin",onSubmit:t.onSignIn,children:[Object(g.jsxs)("div",{className:"form-group inputform",children:[Object(g.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(g.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"})]}),Object(g.jsxs)("div",{className:"form-group inputform",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),t.error?Object(g.jsx)("h4",{children:t.error.errorMessage}):null,Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]})};n(83);var I=function(t){return Object(g.jsxs)("form",{className:"signup",onSubmit:t.onSignUp,children:[Object(g.jsxs)("div",{className:"form-group inputform",children:[Object(g.jsx)("label",{htmlFor:"InputUsername",children:"Username"}),Object(g.jsx)("input",{type:"text",className:"form-control",id:"InputUsername",name:"username"})]}),Object(g.jsxs)("div",{className:"form-group inputform",children:[Object(g.jsx)("label",{htmlFor:"InputEmail",children:"Email address"}),Object(g.jsx)("input",{type:"email",className:"form-control",id:"InputEmail",name:"email"}),Object(g.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(g.jsxs)("div",{className:"form-group inputform",children:[Object(g.jsx)("label",{htmlFor:"InputPassword",children:"Password"}),Object(g.jsx)("input",{name:"password",type:"password",className:"form-control",id:"InputPassword"})]}),t.error?Object(g.jsx)("h4",{children:t.error.errorMessage}):null,Object(g.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]})},C=n(95),S=n(49),N=(n(84),function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){var t=this.props.tourlist;return console.log("This is the tourlist",t),Object(g.jsxs)("div",{className:"tourlist",children:[Object(g.jsx)("h1",{className:"findtour",children:"Find a Tour!"}),Object(g.jsx)("div",{className:"tours",children:t.map((function(t){return Object(g.jsxs)(C.a,{style:{width:"18rem"},children:[Object(g.jsx)(C.a.Img,{variant:"top",src:"https://i.ibb.co/4WnSYDr/Captura-de-ecr-2021-03-11-s-00-49-25-2.jpg"}),Object(g.jsxs)(C.a.Body,{children:[Object(g.jsx)(C.a.Title,{children:t.title}),Object(g.jsx)(C.a.Text,{children:t.description}),Object(g.jsxs)(f.b,{to:"/tourDetails/".concat(t._id),children:[" ",Object(g.jsx)(S.a,{variant:"primary",children:"Details"})]},t._id)]})]})}))})]})}}]),n}(a.Component)),D=(n(85),function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={tours:{}},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.tourId;b.a.get("".concat(m,"/api/tours/").concat(e)).then((function(e){console.log(e.data),t.setState({tours:e.data})})).catch((function(){console.log("Fecthing failed")}))}},{key:"render",value:function(){var t=this.state.tours,e=this.props,n=(e.onEdit,e.onDelete);return Object(g.jsx)("div",{className:"contnr",children:Object(g.jsxs)(C.a,{style:{width:"18rem"},children:[Object(g.jsx)(C.a.Img,{variant:"top",src:"https://i.ibb.co/4WnSYDr/Captura-de-ecr-2021-03-11-s-00-49-25-2.jpg"}),Object(g.jsxs)(C.a.Body,{children:[Object(g.jsxs)(C.a.Title,{children:["Title: ",t.title]}),Object(g.jsxs)(C.a.Text,{children:["Description: ",t.description]}),Object(g.jsxs)(C.a.Text,{children:["Date: ",t.date]}),Object(g.jsxs)(C.a.Text,{children:["Location: ",t.location]})]}),Object(g.jsx)("button",{children:Object(g.jsx)(f.b,{to:"/editform/".concat(t._id),children:"Edit"})}),Object(g.jsx)("button",{onClick:function(){return n(t._id)},children:"Delete"})]})})}}]),n}(a.Component)),w=(n(86),n(93)),L=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(g.jsx)("div",{className:"add-form",children:Object(g.jsxs)(w.a,{onSubmit:this.props.onAdd,children:[Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(w.a.Label,{children:"Title"}),Object(g.jsx)(w.a.Control,{name:"title",type:"text",placeholder:"Enter title"})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput2",children:[Object(g.jsx)(w.a.Label,{children:"Location"}),Object(g.jsx)(w.a.Control,{name:"location",type:"text",placeholder:"Enter location"})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",children:[Object(g.jsx)(w.a.Label,{children:"Description"}),Object(g.jsx)(w.a.Control,{name:"description",type:"text",placeholder:"Enter description"})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput3",children:[Object(g.jsx)(w.a.Label,{children:"Date"}),Object(g.jsx)(w.a.Control,{name:"date",type:"date",className:"form-control"})]}),Object(g.jsx)(S.a,{type:"submit",children:"Submit"})]})})}}]),n}(a.Component),k=(n(87),function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={tours:{}},t.handleTitleChange=function(e){var n=e.target.value;console.log(n);var a=JSON.parse(JSON.stringify(t.state.tour));a.title=n,t.setState({tours:a})},t.handleDescChange=function(e){var n=e.target.value,a=JSON.parse(JSON.stringify(t.state.tour));a.description=n,t.setState({tour:a})},t.handleLocationChange=function(e){var n=e.target.value;console.log(n);var a=JSON.parse(JSON.stringify(t.state.tour));a.location=n,t.setState({tour:a})},t.handleDateChange=function(e){var n=e.target.value;console.log(n);var a=JSON.parse(JSON.stringify(t.state.tour));a.date=date,t.setState({tour:a})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this,e=this.props.match.params.tourId;b.a.get("".concat(m,"/api/tours/").concat(e)).then((function(e){t.setState({tours:e.data})})).catch((function(){console.log("Detail fecth failed")}))}},{key:"render",value:function(){var t=this.state.tours,e=this.props.onEdit;return Object(g.jsxs)("div",{className:"editform",children:[Object(g.jsxs)(w.a,{children:[Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",className:"inputedit",children:[Object(g.jsx)(w.a.Label,{children:"Title"}),Object(g.jsx)(w.a.Control,{type:"text",onChange:this.handleTitleChange,value:t.title})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",className:"inputedit",children:[Object(g.jsx)(w.a.Label,{children:"Decription"}),Object(g.jsx)(w.a.Control,{type:"text",onChange:this.handleDescChange,value:t.description})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",className:"inputedit",children:[Object(g.jsx)(w.a.Label,{children:"Location"}),Object(g.jsx)(w.a.Control,{type:"text",onChange:this.handleLocationChange,value:t.location})]}),Object(g.jsxs)(w.a.Group,{controlId:"exampleForm.ControlInput1",className:"inputedit",children:[Object(g.jsx)(w.a.Label,{children:"Date"}),Object(g.jsx)(w.a.Control,{type:"date",className:"form-control",onChange:this.handleDateChange,value:t.date})]})]}),Object(g.jsx)("button",{onClick:function(){e(t)},children:"Submit"})]})}}]),n}(a.Component)),T=(n(88),function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"home",children:[Object(g.jsx)("h1",{children:Object(g.jsx)("b",{children:"Hack Tours"})}),Object(g.jsx)("h2",{children:"Get to know your favorite cities"}),Object(g.jsx)(f.b,{style:{marginLeft:"10px"},to:"/tourlist",children:Object(g.jsx)("button",{className:"tours-btn",size:"lg",children:"Tours"})})]})}}]),n}(a.Component)),F=(n(89),function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){return Object(l.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(g.jsxs)("div",{className:"pagenotfound",children:[Object(g.jsx)("h1",{children:"404"}),Object(g.jsx)("h1",{children:"It looks like you are lost."})]})}}]),n}(a.Component)),E=function(t){Object(d.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={tours:[],loggedInUser:null,error:null},t.handleSubmit=function(e){e.preventDefault();var n=e.target.title.value,a=e.target.description.value,r=e.target.location.value,o=e.target.date.value;console.log("name",n,"desc",a,"loc",r,"date",Date.parse(o)),b.a.post("".concat(m,"/api/create"),{title:n,description:a,location:r,date:Date.parse(o)}).then((function(e){t.setState({tours:[e.data].concat(Object(i.a)(t.state.tours))},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Failed to create",t)}))},t.handleDelete=function(e){b.a.delete("".concat(m,"/api/tours/").concat(e)).then((function(){var n=t.state.tours.filter((function(t){return t._id!==e}));t.setState({tours:n},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Delete failed",t)}))},t.handleEditTour=function(e){b.a.patch("".concat(m,"/api/tours/").concat(e._id),{title:e.title,description:e.description,location:e.location,date:e.date}).then((function(){var n=t.state.tours.map((function(t){return e._id===t._id&&(t.name=e.name,t.description=e.description,t.location=e.location,t.date=e.date),t}));t.setState({tours:n},(function(){t.props.history.push("/")}))})).catch((function(t){console.log("Edit failed",t)}))},t.handleSignUp=function(e){e.preventDefault();var n={username:e.target.username.value,email:e.target.email.value,password:e.target.password.value};b.a.post("".concat(m,"/api/signup"),n).then((function(e){t.setState({loggedInUser:null},(function(){t.props.history.push("/signin")}))})).catch((function(t){console.log(t)}))},t.handleSignIn=function(e){e.preventDefault();var n={email:e.target.email.value,password:e.target.password.value};b.a.post("".concat(m,"/api/signin"),n,{withCredentials:!0}).then((function(e){t.setState({loggedInUser:e.data},(function(){t.props.history.push("/")}))})).catch((function(e){console.log("Something went wrong",e),t.setState({error:e.response.data})}))},t.handleLogout=function(){b.a.post("".concat(m,"/api/logout"),{},{withCredentials:!0}).then((function(){t.setState({loggedInUser:null},(function(){t.props.history.push("/")}))}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;b.a.get("".concat(m,"/api/tours")).then((function(e){console.log("This is the response",e.data),t.setState({tours:e.data})})).catch((function(){console.log("Details Fecth failed")})),this.state.loggedInUser||b.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(e){t.setState({loggedInUser:e.data})})).catch((function(){}))}},{key:"render",value:function(){var t=this;return Object(g.jsxs)("div",{children:[Object(g.jsx)(v,{onLogout:this.handleLogout,user:this.state.loggedInUser}),Object(g.jsxs)(h.c,{children:[Object(g.jsx)(h.a,{exact:!0,path:"/",render:function(t){return Object(g.jsx)(T,{})}}),Object(g.jsx)(h.a,{path:"/addform",render:function(e){return Object(g.jsx)(L,{onAdd:t.handleSubmit})}}),Object(g.jsx)(h.a,{path:"/editform/:tourId",render:function(t){return Object(g.jsx)(k,Object(s.a)({},t))}}),Object(g.jsx)(h.a,{path:"/tourlist",render:function(e){return Object(g.jsx)(N,{tourlist:t.state.tours})}}),Object(g.jsx)(h.a,{path:"/tourDetails/:tourId",render:function(e){return Object(g.jsx)(D,Object(s.a)({onDelete:t.handleDelete,onEdit:t.handleEditTour},e))}}),Object(g.jsx)(h.a,{path:"/signin",render:function(e){return Object(g.jsx)(y,Object(s.a)({error:t.state.error,onSignIn:t.handleSignIn},e))}}),Object(g.jsx)(h.a,{path:"/signup",render:function(e){return Object(g.jsx)(I,Object(s.a)({error:t.state.error,onSignUp:t.handleSignUp},e))}}),Object(g.jsx)(h.a,{component:F})]})]})}}]),n}(a.Component),U=Object(h.f)(E);c.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(f.a,{children:Object(g.jsx)(U,{})})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.a1784127.chunk.js.map